(window.webpackJsonp=window.webpackJsonp||[]).push([[23],{434:function(t,e,i){"use strict";i.r(e);i(346),i(11),i(320),i(350),i(352),i(353),i(354),i(355),i(356),i(357),i(358),i(359),i(360),i(361),i(362),i(363),i(364),i(365),i(366),i(367),i(368),i(369),i(370),i(371),i(372),i(373),i(374);var r={props:{src:String},data:function(){return{color:"#8e71c7",boxHeight:600,svgWidth:0,fftSize:64,displaySize:56,bars:[]}},mounted:function(){this.resizeSVG(),this.initVoiceBar()},methods:{startListen:function(){this.initAudioContext(),this.getYourVoice()},stopListen:function(){this.track.stop()},resizeSVG:function(){var t=this.$refs.voiceBox;this.svgWidth=parseInt(window.getComputedStyle(t.parentNode).width),t.setAttribute("width",this.svgWidth)},initAudioContext:function(){var t=window.AudioContext||window.webkitAudioContext||window.mozAudioContext||window.msAudioContext;this.audioContext=new t,this.gainNode=this.audioContext.createGain(),this.analyser=this.audioContext.createAnalyser(),this.analyser.fftSize=this.fftSize},initVoiceBar:function(){for(var t=this.$refs.voiceBars,e=this.svgWidth/this.displaySize,i=0;i<this.displaySize;i++){var r=document.createElementNS("http://www.w3.org/2000/svg","rect");r.setAttribute("x",this.svgWidth/2+e*i),r.setAttribute("y",this.boxHeight/2),r.setAttribute("width",e),r.setAttribute("height",1),r.setAttribute("fill","url(#bar-grad)"),t.appendChild(r),this.bars.push(r)}},frequencyBars:function(){var t=this,e=this.analyser,i=this.bars,r=new Uint8Array(this.displaySize);window.requestAnimationFrame((function s(){e.getByteFrequencyData(r);for(var o=0;o<t.displaySize;o++)i[o].setAttribute("height",r[o]+1);window.requestAnimationFrame(s)}))},getYourVoice:function(){var t=this,e=this.audioContext,i=(e.createWaveShaper(),e.createGain()),r=e.createBiquadFilter(),s=this.analyser;if(navigator.mediaDevices.getUserMedia){navigator.mediaDevices.getUserMedia({audio:!0}).then((function(o){e.createMediaStreamSource(o).connect(r),r.connect(i),i.connect(s),s.connect(e.destination),t.frequencyBars(),t.track=o.getTracks()[0]})).catch((function(t){console.log("The following gUM error occured: "+t)}))}else console.log("getUserMedia not supported on your browser!")}}},s=i(27),o=Object(s.a)(r,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("svg",{ref:"voiceBox",attrs:{id:"voice-bar-container",height:t.boxHeight,fill:t.color}},[i("defs",[i("g",{ref:"voiceBars",attrs:{id:"voice-bars"}}),t._v(" "),i("linearGradient",{attrs:{id:"bar-grad",x1:"0.5",y1:"0",x2:"0.5",y2:"1"}},[i("stop",{attrs:{offset:"0","stop-color":t.color}}),t._v(" "),i("stop",{attrs:{offset:"1","stop-color":"rgba(142,113,199,0)"}})],1)],1),t._v(" "),i("use",{attrs:{"xlink:href":"#voice-bars"}}),t._v(" "),i("use",{attrs:{"xlink:href":"#voice-bars",transform:"scale(-1, 1) translate("+-t.svgWidth+", 0)"}}),t._v(" "),i("use",{attrs:{"xlink:href":"#voice-bars",transform:"rotate(180, "+t.svgWidth/2+", "+t.boxHeight/2+")"}}),t._v(" "),i("use",{attrs:{"xlink:href":"#voice-bars",transform:"scale(1, -1) translate(0, "+-t.boxHeight+")"}})])])}),[],!1,null,null,null);e.default=o.exports}}]);